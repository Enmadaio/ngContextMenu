/*! ng-contextmenu by Adam Timberlake <adam.timberlake@gmail.com> created on 2015-04-20 */
!function(a){"use strict";var b=a.module("ngContextMenu",[]);b.factory("contextMenu",["$rootScope",function(a){function b(){a.$broadcast("context-menu/close")}return{cancelAll:b}}]),b.directive("contextMenu",["$http","$interpolate","$compile","contextMenu",function(b,c,d,e){return{restrict:"EA",scope:!0,require:"?ngModel",link:function(f,g,h,i){function j(){f.menu&&(f.menu.remove(),f.menu=null,f.position=null)}function k(){return i?a.extend(f,i.$modelValue):f}function l(i,l){if(l=l||"append","preventDefault"in i)e.cancelAll(),i.stopPropagation(),i.preventDefault(),f.position={x:i.clientX,y:i.clientY};else if(!f.menu)return;b.get(h.contextMenu,{cache:!0}).then(function(b){var e=c(b.data)(a.extend(k())),h=d(e)(f),i=a.element(h);switch(l){case"append":g.append(i);break;default:f.menu.replaceWith(i)}i.css({position:"absolute",transform:c("translate({{x}}px, {{y}}px)")({x:f.position.x,y:f.position.y})}),f.menu=i,f.menu.bind("click",j)})}if(f.$on("context-menu/close",j),i){var m=function(){return i.$modelValue};f.$watch(m,function(){l({},"replaceWith")},!0)}g.bind(h.contextEvent||"contextmenu",l)}}}])}(window.angular);